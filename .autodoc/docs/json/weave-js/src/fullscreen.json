{
  "fileName": "fullscreen.ts",
  "filePath": "weave-js/src/fullscreen.ts",
  "url": "https://github.com/wandb/weave/weave-js/src/fullscreen.ts",
  "summary": "The code in this file defines a function called `onNextExitFullscreen` that fires a callback when a fullscreen exit event occurs. The purpose of this function is to provide a way for developers to execute code when a user exits fullscreen mode on a webpage. \n\nThe function takes a single argument, `handler`, which is a callback function that will be executed when the fullscreen exit event occurs. The `handler` function can take any number of arguments, as specified by the `...args: any[]` syntax.\n\nThe function first creates a wrapped version of the `handler` function that checks if the document is no longer in fullscreen mode. If the document is not in fullscreen mode, the `handler` function is called with any arguments that were passed in. The wrapped function then removes the event listeners that were added earlier.\n\nThe function then adds event listeners for the `webkitfullscreenchange`, `mozfullscreenchange`, `fullscreenchange`, and `MSFullscreenChange` events. These events are fired when the document exits fullscreen mode, and the `wrappedHandler` function is called in response to each of these events.\n\nThis function can be used in a larger project to provide a way for developers to execute code when a user exits fullscreen mode. For example, a video player application might use this function to pause the video when the user exits fullscreen mode. Here is an example of how this function might be used:\n\n```\nimport { onNextExitFullscreen } from 'weave';\n\nconst videoPlayer = document.getElementById('video-player');\n\nfunction pauseVideo() {\n  videoPlayer.pause();\n}\n\nonNextExitFullscreen(pauseVideo);\n```\n\nIn this example, the `pauseVideo` function is passed as the `handler` argument to `onNextExitFullscreen`. When the user exits fullscreen mode, the `pauseVideo` function will be called, pausing the video player.",
  "questions": "1. What does this code do?\n   This code sets up an event listener for when the fullscreen mode is exited and fires a callback function when that happens.\n\n2. What arguments does the `onNextExitFullscreen` function take?\n   The `onNextExitFullscreen` function takes a single argument, which is a callback function that can take any number of arguments.\n\n3. What browsers does this code support?\n   This code supports webkit, moz, and ms browsers, as it sets up event listeners for `webkitfullscreenchange`, `mozfullscreenchange`, and `MSFullscreenChange`."
}